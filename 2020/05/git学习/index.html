<!DOCTYPE html>
<html lang="">
  <head>
    
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="generator" content="Hugo 0.70.0 with theme Tranquilpeak 0.4.7-BETA">
<meta name="author" content="Xiao Wei">
<meta name="keywords" content="Git">
<meta name="description" content="Git简介

分布式版本控制系统，想想与集中式版本管理系统的不同
强大的分支管理
">


<meta property="og:description" content="Git简介

分布式版本控制系统，想想与集中式版本管理系统的不同
强大的分支管理
">
<meta property="og:type" content="article">
<meta property="og:title" content="Git学习">
<meta name="twitter:title" content="Git学习">
<meta property="og:url" content="https://xwxm.github.io/2020/05/git%E5%AD%A6%E4%B9%A0/">
<meta property="twitter:url" content="https://xwxm.github.io/2020/05/git%E5%AD%A6%E4%B9%A0/">
<meta property="og:site_name" content="我的博客">
<meta property="og:description" content="Git简介

分布式版本控制系统，想想与集中式版本管理系统的不同
强大的分支管理
">
<meta name="twitter:description" content="Git简介

分布式版本控制系统，想想与集中式版本管理系统的不同
强大的分支管理
">
<meta property="og:locale" content="zh-cn">

  
    <meta property="article:published_time" content="2020-05-25T10:05:42">
  
  
    <meta property="article:modified_time" content="2020-05-25T10:05:42">
  
  
  
    
      <meta property="article:section" content="工具使用">
    
      <meta property="article:section" content="Git使用">
    
  
  
    
      <meta property="article:tag" content="Git">
    
  


<meta name="twitter:card" content="summary">











  <meta property="og:image" content="https://www.gravatar.com/avatar/8cb8d2e02baa3a3ee73944c9c9999125?s=640">
  <meta property="twitter:image" content="https://www.gravatar.com/avatar/8cb8d2e02baa3a3ee73944c9c9999125?s=640">


    <title>Git学习</title>

    <link rel="icon" href="https://xwxm.github.io/images/aixm.jpeg">
    

    

    <link rel="canonical" href="https://xwxm.github.io/2020/05/git%E5%AD%A6%E4%B9%A0/">

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/jquery.fancybox.min.css" integrity="sha256-vuXZ9LGmmwtjqFX1F+EKin1ThZMub58gKULUyf0qECk=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/helpers/jquery.fancybox-thumbs.min.css" integrity="sha256-SEa4XYAHihTcEP1f5gARTB2K26Uk8PsndQYHQC1f4jU=" crossorigin="anonymous" />
    
    
    <link rel="stylesheet" href="https://xwxm.github.io/css/style-twzjdbqhmnnacqs0pwwdzcdbt8yhv8giawvjqjmyfoqnvazl0dalmnhdkvp7.min.css" />
    
    
      
        <link rel="stylesheet"  href="https://xwxm.github.io/css/mycss.css">
      
    

    
      
    
    
  </head>

  <body>
    <style>
 .v[data-class=v] .vwrap {
    border: 1px solid #f0f0f0;
    border-radius: 4px;
    margin-bottom: 10px;
    position: relative;
    padding: 10px;
}
    </style>
    <div id="blog">
      <header id="header" data-behavior="1">
  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
  <div class="header-title">
    <a class="header-title-link" href="https://xwxm.github.io/">我的博客</a>
  </div>
  
    
      <a class="header-right-picture "
         href="https://xwxm.github.io/#about">
    
    
    
      
        <img class="header-picture" src="https://www.gravatar.com/avatar/8cb8d2e02baa3a3ee73944c9c9999125?s=90" alt="作者的图片" />
      
    
    </a>
  
</header>

      <nav id="sidebar" data-behavior="1">
  <div class="sidebar-container" style="opacity:0.8;">
    
      <div class="sidebar-profile">
        <a href="https://xwxm.github.io/#about">
          <img class="sidebar-profile-picture" src="https://www.gravatar.com/avatar/8cb8d2e02baa3a3ee73944c9c9999125?s=110" alt="作者的图片" />
        </a>
        <h4 class="sidebar-profile-name">Xiao Wei</h4>
        
          <h5 class="sidebar-profile-bio">你的名字 ，是我见过最短的情诗。</h5>
        
      </div>
    
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://xwxm.github.io/">
    
      <i class="sidebar-button-icon fa fa-lg fa-home"></i>
      
      <span class="sidebar-button-desc">首页</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://xwxm.github.io/categories">
    
      <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
      
      <span class="sidebar-button-desc">分类</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://xwxm.github.io/tags">
    
      <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
      
      <span class="sidebar-button-desc">标签</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://xwxm.github.io/archives">
    
      <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
      
      <span class="sidebar-button-desc">归档</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link open-algolia-search" href="https://xwxm.github.io/#search">
    
      <i class="sidebar-button-icon fa fa-lg fa-search"></i>
      
      <span class="sidebar-button-desc">搜索</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://xwxm.github.io/#about">
    
      <i class="sidebar-button-icon fa fa-lg fa-question"></i>
      
      <span class="sidebar-button-desc">关于</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://github.com/kakawait" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-github"></i>
      
      <span class="sidebar-button-desc">GitHub</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://stackoverflow.com/users/636472/kakawait" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-stack-overflow"></i>
      
      <span class="sidebar-button-desc">Stack Overflow</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://xwxm.github.io/index.xml">
    
      <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
      
      <span class="sidebar-button-desc">RSS</span>
    </a>
  </li>


    </ul>
  </div>
</nav>

      

      <div id="main" data-behavior="1"
        class="
               hasCoverMetaIn
               ">
        <article class="post" itemscope itemType="http://schema.org/BlogPosting">
          
          
            <div class="post-header main-content-wrap text-left">
  
    <h1 class="post-title" itemprop="headline">
      Git学习
    </h1>
  
  
  <div class="postShorten-meta post-meta">
    
      <time itemprop="datePublished" datetime="2020-05-25T10:05:42&#43;08:00">
        
  五月 25, 2020

      </time>
    
    
  
  
    <span>发布在</span>
    
      <a class="category-link" href="https://xwxm.github.io/categories/%e5%b7%a5%e5%85%b7%e4%bd%bf%e7%94%a8">工具使用</a>, 
    
      <a class="category-link" href="https://xwxm.github.io/categories/git%e4%bd%bf%e7%94%a8">Git使用</a>
    
  

  </div>

</div>
          
          <div class="post-content markdown" itemprop="articleBody">
            <div class="main-content-wrap">
              <p>Git简介</p>
<ul>
<li>分布式版本控制系统，想想与集中式版本管理系统的不同</li>
<li>强大的分支管理</li>
</ul>
<!-- raw HTML omitted -->
<p><img src="https://cdn.jsdelivr.net/gh/xwxm/pictures/img/QQ%E6%88%AA%E5%9B%BE20180803153048.png" alt=""></p>
<pre><code>git add git commit -m '说明'

git reset HEAD [文件]
git log   ;   git reset --hard commitID
git log   ;   git reset --hard commitID
git log fileName ; git reset --hard commitID;  git checkout --filename
git branch      git checkout     git merge
</code></pre><h4 id="版本">版本</h4>
<p><img src="https://cdn.jsdelivr.net/gh/xwxm/pictures/img/QQ%E6%88%AA%E5%9B%BE20180803141607.png" alt=""></p>
<h3 id="git安装">git安装</h3>
<h4 id="linux上安装">Linux上安装</h4>
<p>1.测试是否安装</p>
<pre><code>$ git
The program 'git' is currently not installed. You can install it by typing:
sudo apt-get install git

#ununtu \ Debian
$ sudo apt-get install git

# 其他Linux
源码安装
1.git官网下载
2. 解压
3.  ./config,make,sudo make install
</code></pre><h4 id="mac-安装git">mac 安装git</h4>
<ul>
<li>安装 homebrew，然后通过 homebrew 安装 Git</li>
<li>直接从 AppStore 安装 Xcode，Xcode 集成了 Git，不过默认没有安装，你需要运行 Xcode，选择菜单“Xcode”-&gt;“Preferences”，在弹出窗口中找到“Downloads”，选
择“Command Line Tools”，点“Install”就可以完成安装了。</li>
</ul>
<h4 id="centos">CentOs</h4>
<pre><code>安装

 yum install git


验证

[root@localhost ~]# git --version
git version 1.8.3.1
[root@localhost ~]#

//配置基本信息
[root@localhost ~]# git config --global user.name &quot;xiaowei&quot;
[root@localhost ~]# git config --global user.email xiaowei.work@hotmail.com
//查看配置
[root@localhost ~]# git config --list
user.name=flymegoc
user.email=343672271@qq.com
[root@localhost ~]#
</code></pre><h4 id="windows安装git">windows安装git</h4>
<ul>
<li>官网下载，一路默认</li>
<li>git bash</li>
</ul>
<h3 id="安装完成">安装完成</h3>
<pre><code>设置name email

$git config --global user.name 'xiaowei'
$git config --global user.email 'xiaowei.work@hotmail.com'

--global 全局配置，本电脑所有仓库都会使用这个配置
</code></pre><h3 id="一些指令">一些指令</h3>
<h4 id="创建版本库">创建版本库</h4>
<pre><code>$ mkdir learngit
$ cd learngit
$ pwd       ---找到存放路径，路径不要包含中文名
$ git init  --初始化为git仓库
默认为隐藏
$ ls -ah .git 可见
</code></pre><h4 id="文件添加和提交">文件添加和提交</h4>
<pre><code>git pull 
git status
git add read.txt
git commit -m '提交说明'
</code></pre><pre><code>$ git add file1.txt
$ git add file2.txt file3.txt
$ git commit -m &quot;add 3 files.&quot;
</code></pre><pre><code>git diff read.txt   ---查看上次怎么修改的
</code></pre><h4 id="版本回退和撤回">版本回退和撤回</h4>
<pre><code>git log  --查看历史记录

git log -pretty=oneline

HEAD 表示当前版本
HEAD^ 表示上一个版本，HEAD^^ 表示上上个版本 HEAD~n 表示往上n个版本
回到上一个版本
git reset --hard HEAD^

想回到上一个版本，此时git log 已经看不到最新记录了
这个时候如果可以找到版本号
git reset -hard 找到的版本号

找不到最新记录了
git reflog 可以找到
</code></pre><h4 id="工作区与暂存区">工作区与暂存区</h4>
<ul>
<li>
<p>有git目录的那个文件夹为工作区</p>
</li>
<li>
<p>隐藏目录 .git 为版本库，版本库中存有好多东西，有一个叫stage或者 index 暂存区 git创建的第一个分支master，以及指向master的指针HEAD</p>
</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/xwxm/pictures/img/QQ%E6%88%AA%E5%9B%BE20180802200915.png" alt=""></p>
<h4 id="撤销修改">撤销修改</h4>
<pre><code>git checkout --read.txt    将工作区修改回退

--很重要 没有-- 意思变为创建一个新分支
</code></pre><blockquote>
<p>命令 git checkout &ndash; readme.txt 意思就是，把 readme.txt 文件在工作区的修改全部撤销，这里有两种情况：</p>
<ul>
<li>一种是 readme.txt 自修改后还没有被放到暂存区，现在，撤销修改就回到和版本库一模一样的状态；</li>
<li>一种是 readme.txt 已经添加到暂存区后，又作了修改，现在，撤销修改就回到添加到暂存区后的状态。</li>
</ul>
<p>总之，就是让这个文件回到最近一次 git commit 或 git add 时的状态</p>
</blockquote>
<pre><code>git reset HEAD readme.txt  将暂存区修改回退 commit就回退版本 git push就完蛋了
</code></pre><h4 id="文件删除">文件删除</h4>
<pre><code>git add readme.txt
然后删除文件rm readme.txt

git status 发现文件删除
真的要从文件库删除操作：
git rm readme.txt
git commit -m '说明'


如果删错了
git checkout --readme.txt

</code></pre><h4 id="远程仓库">远程仓库</h4>
<ol>
<li>
<p>创建SSH key</p>
<pre><code>ssh-keygen -t rsa -C 'xiaowei.work@hotmail.com'
   
可在用户主目录找到.ssh目录 ，包括id_rsa 私钥  id_rsa.pub 公钥
     
github 添加sshkey 公钥 和title  GitHub 右上角create a new repo  写git文件夹名
</code></pre></li>
<li>
<p>远程关联</p>
<pre><code>git remote add origin git@github.com:github账号/gitc仓库文件夹名.git
   
默认远程仓库名叫origin
</code></pre></li>
<li>
<p>将本地所有内容添加到远程仓库</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-j" data-lang="j">git push <span style="color:#f92672">-</span>u origin master    
<span style="color:#f92672">///</span><span style="color:#960050;background-color:#1e0010">将当前分支master推送到远程</span> 
<span style="color:#f92672">//</span><span style="color:#960050;background-color:#1e0010">第一次推送</span> <span style="color:#f92672">-</span>u <span style="color:#960050;background-color:#1e0010">可以将远程master与本地master关联起来，以后推送拉取可以简化命令</span>
</code></pre></div></li>
</ol>
<h4 id="从远程仓库克隆">从远程仓库克隆</h4>
<ul>
<li>
<p>先创建远程库，再从远程仓库克隆</p>
<pre><code>git clone git@github.com:xiaowei/gitReposity.git
cd gitReposity
ls
</code></pre></li>
</ul>
<h4 id="分支管理">分支管理</h4>
<ol>
<li>
<p>创建并切换分支</p>
<pre><code>git branch -b dev
   
// Swiched to a new branch 'dev'
   
第一行命令相当于以下两条命令
git branch dev 创建dev分支
git checkout dev切换到Dev分支
   
   
git branch查看分支
结果展示
*dev
master  会列出所有分支 所在分支表一个星号
   
此刻在dev 分支 git add git commit 一顿操作后
将东西提交dev分支
   
切换到master分支
git checkout master
   
然后合并分支
git merge dev    //合并指定分支到当前分支
结果展示
Updating d17efd8..fec145a
Fast-forward
readme.txt | 1 +
1 file changed, 1 insertion(+)
//Fast-forword 快进模式 直接把master指向dev的当前提交
   
删除分支 git branch -d dev
   
   
分支冲突解决手动解决
Git用&lt;&lt;&lt;&lt;&lt;&lt;&lt;，=======，&gt;&gt;&gt;&gt;&gt;&gt;&gt;标记出不同分支的内容，我们修改如下后保存：
eg:
    Git is a distributed version control system.
    Git is free software distributed under the GPL.
    Git has a mutable index called stage.
    Git tracks changes of files.
    &lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD
    # Creating a new branch is quick &amp; simple.Creating a new branch is quick AND simple.
    &gt;&gt;&gt;&gt;&gt;&gt;&gt; feature1
   
   
 git log --graph --pretty=online --abbrev -commit
git branch -d feature1 删除分支
   
禁用fast-forward模式合并 会创建一个新的commit
   
git merge --no-ff -m 'merge commit'
   
此时用 git log --graph --pretty=oneline --abbrev-commit  查看远程分支合并图 单行显示
</code></pre><blockquote>
<p>在实际开发中，我们应该按照几个基本原则进行分支管理：
首先，master 分支应该是非常稳定的，也就是仅用来发布新版本，平时不能在上面干活；
那在哪干活呢？干活都在 dev 分支上，也就是说，dev 分支是不稳定的，到某个时候，比如 1.0 版本发布时，再
把 dev 分支合并到 master 上，在 master 分支发布 1.0 版本；
你和你的小伙伴们每个人都在 dev 分支上干活，每个人都有自己的分支，时不时地往 dev 分支上合并就可以了。
所以，团队合作的分支看起来就像这样：</p>
<p><img src="https://cdn.jsdelivr.net/gh/xwxm/pictures/img/QQ%E6%88%AA%E5%9B%BE20180803141113.png" alt=""></p>
</blockquote>
</li>
</ol>
<blockquote>
<p>合并分支时，加上 &ndash;no-ff 参数就可以用普通模式合并，合并后的历史有分支，能看出来曾经做过合并，而 fast
forward 合并就看不出来曾经做过合并。</p>
</blockquote>
<pre><code>查看分支：git branch
创建分支：git branch
切换分支：git checkout
创建+切换分支：git checkout -b
合并某分支到当前分支：git merge
删除分支：git branch -d
</code></pre><h4 id="git储存暂时不能提交的工作以及bug分支">git储存暂时不能提交的工作以及bug分支</h4>
<pre><code>git stash            当前工作现场“储藏”起来，


首先确定要在哪个分支上修复 bug，假定需要在 master 分支上修复，就从 master 创建临时分支：
$ git checkout master
Switched to branch 'master'
Your branch is ahead of 'origin/master' by 6 commits.
$ git checkout -b issue-101
Switched to a new branch 'issue-101'

回到刚才分支
git check div
git status 是干净的
git stash list 可见存放到某个地方了
方法1：git stash apply 回复之后stash内容不删除 需要git stash drop 来删除
方法2：git stash pop 恢复工作现场之后stash也删除  此后 git list就看不到任何内容了

可以多次git stash 恢复的时候可以先用git stash list 查看 指定stash恢复

eg：
git stashapply stash@{0}

</code></pre><h4 id="feature分支">feature分支</h4>
<ul>
<li>
<p>建立feature分支添加功能然后合并</p>
<pre><code>开发一个新 feature，最好新建一个分支；
如果要丢弃一个没有被合并过的分支，可以通过 git branch -D &lt;name&gt; 强行删除
</code></pre></li>
</ul>
<h4 id="多人协作">多人协作</h4>
<blockquote>
<p>当你从远程仓库克隆实际git 已将本地master 与远程master对应起来了</p>
</blockquote>
<ul>
<li>
<p>查看远程库信息</p>
<pre><code>git remote 
结果：orgin
  
git remote -v 显示更详细信息
结果
origin git@github.com:michaelliao/learngit.git (fetch)
origin git@github.com:michaelliao/learngit.git (push)
</code></pre></li>
<li>
<p>推送分支</p>
<pre><code>git push origin master
  
推送其它分支
git push origin dev
</code></pre><blockquote>
<p>• master 分支是主分支，因此要时刻与远程同步；</p>
<p>• dev 分支是开发分支，团队所有成员都需要在上面工作，所以也需要与远程同步；</p>
<p>• bug 分支只用于在本地修复bug，就没必要推到远程了，除非老板要看看你每周到底修复了几个bug；</p>
<p>• feature 分支是否推到远程，取决于你是否和你的小伙伴合作在上面开发。</p>
</blockquote>
</li>
<li>
<p>抓取分支</p>
<pre><code>ssh key搞定之后
git clone git@......
本地只能看到master分支
git branch
结果：master
  
操作：
  git checkout -b dev origin/dev
  然后就可以git add  ，git commit -m '' ,git push orgin dev了
</code></pre></li>
<li>
<p>如果同事的提交与你的提交有冲突</p>
<pre><code>1.先git pull ，然后本地合并解决冲突再push
  
2.如果git pull 失败原因没有指定本地dev分支与远程origin/dev的连接
git branch --set-upstream dev orgin/dev
git pull
  
3.人工解决冲突
4. git push origin dev
</code></pre><blockquote>
<ul>
<li>本地新建的分支不推送到远程，对其他人是不可见的</li>
<li>在本地创建与远程分支对应的分支，使用git checkout -b branch-name origin/branch-name</li>
<li>本地分支与远程分支的关联， git branch &ndash;se-upstream branch-name origin/branch-name</li>
<li>多人协作先git pull 然后git add git push</li>
</ul>
</blockquote>
</li>
</ul>
<h4 id="创建标签">创建标签</h4>
<ol>
<li>
<p>到需要打标签的分支上</p>
<pre><code>git branch
   
git checkout 分支名
   
git tag v1.0
   
git tag    查看标签
结果：v1.0
</code></pre><pre><code>历史上某次要打个标签
   
git log --pretty=oneline --abbrev-commit   找到对应的commitID
   
git tag v0.9 commit ID
   
git tag
结果：v0.9
  v1.0            标签不安时间排序 按字母排序
   	 
git show &lt;tagname&gt; 查看标签信息
   
eg：
git show v0.9
结果：
commit 622493706ab447b6bb37e4e2a2f276a20fed2ab4
Author: Michael Liao &lt;askxuefeng@gmail.com&gt;
Date: Thu Aug 22 11:22:08 2013 +0800
   
   
创建带有说明的标签
git tag -a v0.9 -m &quot;说明&quot; commitID 
// -a 指定标签名 -m 说明
   
可用-s 用私钥签名一个标签
git tag -s v0.2 -m &quot;说明&quot;
//签名采用 PGP 签名，因此，必须首先安装 gpg（GnuPG），如果没有找到 gpg，或者没有 gpg 密钥对，就会报错：
   
标签删除
   
git tag -d v0.1  
   
创建标签只存于本地，推送标签去远程
git push origin v1.0
   
一次推送全部尚未推送到远程的标签
git push origin --tags
   
删除远程标签
1.先删除本地标签
gti tag -d v0.9
2.远程删除
git push origin:refs/tags/v0.9 To git@github.com:账号名/仓库.git
</code></pre><blockquote>
<p>• 命令 git push origin <!-- raw HTML omitted --> 可以推送一个本地标签；</p>
<p>• 命令 git push origin &ndash;tags 可以推送全部未推送过的本地标签；</p>
<p>• 命令 git tag -d <!-- raw HTML omitted --> 可以删除一个本地标签；</p>
<p>• 命令 git push origin :refs/tags/<!-- raw HTML omitted --> 可以删除一个远程标签</p>
</blockquote>
</li>
</ol>
<h4 id="使用github">使用GitHub</h4>
<ul>
<li>在 GitHub 上，可以任意 Fork 开源仓库；</li>
<li>自己拥有 Fork 后的仓库的读写权限；</li>
<li>可以推送 pull request 给官方仓库来贡献代码。</li>
</ul>
<h3 id="自定义git">自定义git</h3>
<ul>
<li>
<p>让git显示颜色</p>
<pre><code>git config --global color.ui true
</code></pre></li>
<li>
<p>在 Git 工作区的根目录下创建一个特殊的 .gitignore 文件，然后把要忽略的文件名填进去，Git 就会自动忽略这些文件。
忽略某些文件时，需要编写 .gitignore ；
.gitignore 文件本身要放到版本库里，并且可以对 .gitignore 做版本管理！</p>
<blockquote>
<p>举个例子：
假设你在 Windows 下进行 Python 开发，Windows 会自动在有图片的目录下生成隐藏的缩略图文件，如果有
自定义目录，目录下就会有 Desktop.ini 文件，因此你需要忽略 Windows 自动生成的垃圾文件：</p>
<h6 id="windows">Windows:</h6>
<p>Thumbs.db
ehthumbs.db
Desktop.ini
然后，继续忽略 Python 编译产生的 .pyc 、 .pyo 、 dist 等文件或目录：</p>
<h6 id="python">Python:</h6>
<p>*.py[cod]
*.so
*.egg
*.egg-info
dist
build
加上你自己定义的文件，最终得到一个完整的 .gitignore 文件，内容如下：</p>
<h6 id="windows-1">Windows:</h6>
<p>Thumbs.db
ehthumbs.db
Desktop.ini</p>
<h6 id="python-1">Python:</h6>
<p>*.py[cod]
*.so
*.egg
*.egg-info
dist
build</p>
<h6 id="my-configurations">My configurations:</h6>
<p>db.ini
deploy_key_rsa</p>
</blockquote>
</li>
</ul>
<h4 id="gitignore在线文档httpsgithubcomgithubgitignore"><a href="https://github.com/github/gitignore">gitignore在线文档</a></h4>
<ul>
<li>
<p>别名配置</p>
<pre><code>git config --global alias.st status
$ git config --global alias.co checkout
$ git config --global alias.ci commit
$ git config --global alias.br branch
</code></pre><pre><code>$ git config --global alias.unstage 'reset HEAD'
当你敲入命令：
$ git unstage test.py
实际上 Git 执行的是：
$ git reset HEAD test.py
</code></pre><pre><code>配置一个 git last ，让其显示最后一次提交信息：
$ git config --global alias.last 'log -1'
这样，用 git last 就能显示最近一次的提交：
$ git last
commit adca45d317e6d8a4b23f9811c3d7b7f0f180bfe2
</code></pre><pre><code>git config --global alias.lg &quot;log --color --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset' --abbrev-commit&quot;
</code></pre><h4 id="配置文件">配置文件</h4>
<pre><code>配置 Git 的时候，加上 --global 是针对当前用户起作用的，如果不加，那只针对当前的仓库起作用。
配置文件放哪了？每个仓库的 Git 配置文件都放在 .git/config 文件中：
$ cat .git/config
[core]
repositoryformatversion = 0
filemode = true
bare = false
logallrefupdates = true
ignorecase = true
precomposeunicode = true
[remote &quot;origin&quot;]
url = git@github.com:michaelliao/learngit.git
fetch = +refs/heads/*:refs/remotes/origin/*
第 8 章 自定义 Git | 90
[branch &quot;master&quot;]
remote = origin
merge = refs/heads/master
[alias]
last = log -1
别名就在[alias]后面，要删除别名，直接把对应的行删掉即可。
而当前用户的 Git 配置文件放在用户主目录下的一个隐藏文件 .gitconfig 中：
$ cat .gitconfig
[alias]
co = checkout
ci = commit
br = branch
st = status
[user]
name = Your Name
email = your@email.com
配置别名也可以直接修改这个文件，如果改错了，可以删掉文件重新通过命令配置
</code></pre></li>
</ul>
<h3 id="git服务器搭建">git服务器搭建</h3>
<pre><code>假设你已经有 sudo 权限的用户账号，下面，正式开始安装。
第一步，安装 git：
$ sudo apt-get install git
第二步，创建一个 git 用户，用来运行 git 服务：
$ sudo adduser git
第三步，创建证书登录：
收集所有需要登录的用户的公钥，就是他们自己的 id_rsa.pub 文件，把所有公钥导入到 /home/git/.ssh/authorized_keys 文件里，一行一个。
第四步，初始化 Git 仓库：
先选定一个目录作为 Git 仓库，假定是 /srv/sample.git ，在 /srv 目录下输入命令：
$ sudo git init --bare sample.git
Git 就会创建一个裸仓库，裸仓库没有工作区，因为服务器上的 Git 仓库纯粹是为了共享，所以不让用户直接登录
到服务器上去改工作区，并且服务器上的 Git 仓库通常都以 .git 结尾。然后，把 owner 改为 git：
$ sudo chown -R git:git sample.git
第五步，禁用 shell 登录：
出于安全考虑，第二步创建的git用户不允许登录 shell，这可以通过编辑 /etc/passwd 文件完成。找到类似下面
的一行：
git:x:1001:1001:,,,:/home/git:/bin/bash
改为：
git:x:1001:1001:,,,:/home/git:/usr/bin/git-shell
这样，Git 用户可以正常通过 ssh 使用 git，但无法登录 shell，因为我们为 git 用户指定的 git-shell 每次一登录
就自动退出。
第六步，克隆远程仓库：
现在，可以通过 git clone 命令克隆远程仓库了，在各自的电脑上运行：
$ git clone git@server:/srv/sample.git
Cloning into 'sample'...
warning: You appear to have cloned an empty repository.
剩下的推送就简单了。
管理公钥
如果团队很小，把每个人的公钥收集起来放到服务器的 /home/git/.ssh/authorized_keys 文件里就是可行的。如
果团队有几百号人，就没法这么玩了，这时，可以用 Gitosis 来管理公钥。
这里我们不介绍怎么玩 Gitosis 了，几百号人的团队基本都在 500 强了，相信找个高水平的 Linux 管理员问题不
大。
管理权限
有很多不但视源代码如生命，而且视员工为窃贼的公司，会在版本控制系统里设置一套完善的权限控制，每个人
是否有读写权限会精确到每个分支甚至每个目录下。因为 Git 是为 Linux 源代码托管而开发的，所以 Git 也继承
了开源社区的精神，不支持权限控制。不过，因为 Git 支持钩子（hook），所以，可以在服务器端编写一系列脚
本来控制提交等操作，达到权限控制的目的。Gitolite 就是这个工具。
这里我们也不介绍 Gitolite 了，不要把有限的生命浪费到权限斗争中。
小结
• 搭建 Git 服务器非常简单，通常 10 分钟即可完成；
• 要方便管理公钥，用 Gitosis；
• 要像 SVN 那样的控制权限，用 Gitolite。
</code></pre><ul>
<li>git pull &ndash;rebase origin master</li>
</ul>
              
            </div>
          </div>
          <div id="post-footer" class="post-footer main-content-wrap">
            
              
                
                
                  <div class="post-footer-tags">
                    <span class="text-color-light text-small">标签</span><br/>
                    
  <a class="tag tag--primary tag--small" href="https://xwxm.github.io/tags/git/">Git</a>

                  </div>
                
              
            
            <div class="post-actions-wrap">
  
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://xwxm.github.io/2020/05/picgo-github-%E5%9B%BE%E5%BA%8A%E6%90%AD%E5%BB%BA/" data-tooltip="Picgo Github 图床搭建">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">上一篇</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://xwxm.github.io/2020/05/git%E4%BA%8C/" data-tooltip="Git（二）">
              
                  <span class="hide-xs hide-sm text-small icon-mr">下一篇</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://xwxm.github.io/#about%25!%28EXTRA%20string=https://xwxm.github.io/2020/05/git%E5%AD%A6%E4%B9%A0/%29">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://xwxm.github.io/#about%25!%28EXTRA%20string=https://xwxm.github.io/2020/05/git%E5%AD%A6%E4%B9%A0/%29">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://xwxm.github.io/#about%25!%28EXTRA%20string=https://xwxm.github.io/2020/05/git%E5%AD%A6%E4%B9%A0/%29">
              <i class="fa fa-google-plus"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#disqus_thread">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  
</div>

            
              
                
<div id="disqus_thread"><div id="vcomments"></div>

  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src='https://cdn.jsdelivr.net/npm/valine@1/dist/Valine.min.js'></script>
 
  <script type="text/javascript">
    new Valine({
        el: '#vcomments' ,
        enableQQ: true,
        boolean: true,
        appId: 'znwkfVNGuIDjCok6KoW57BaR-MdYXbMMI',
        appKey: '2hO0AK62KleWp3fd1YReymBe',
        notify: 'true', 
        verify: 'false', 
        avatar:'mm', 
        placeholder: '说点什么吧...',
        visitor: 'true',
         
         emojiCDN: '//i0.hdslb.com/bfs/emote/', 
        
        emojiMaps: {
        "tv_doge": "6ea59c827c414b4a2955fe79e0f6fd3dcd515e24.png",
        "tv_亲亲": "a8111ad55953ef5e3be3327ef94eb4a39d535d06.png",
        "tv_偷笑": "bb690d4107620f1c15cff29509db529a73aee261.png",
        "tv_再见": "180129b8ea851044ce71caf55cc8ce44bd4a4fc8.png",
        "tv_冷漠": "b9cbc755c2b3ee43be07ca13de84e5b699a3f101.png",
        "tv_发怒": "34ba3cd204d5b05fec70ce08fa9fa0dd612409ff.png",
        "tv_发财": "34db290afd2963723c6eb3c4560667db7253a21a.png",
        "tv_可爱": "9e55fd9b500ac4b96613539f1ce2f9499e314ed9.png",
        "tv_吐血": "09dd16a7aa59b77baa1155d47484409624470c77.png",
        "tv_呆": "fe1179ebaa191569b0d31cecafe7a2cd1c951c9d.png",
        "tv_呕吐": "9f996894a39e282ccf5e66856af49483f81870f3.png",
        "tv_困": "241ee304e44c0af029adceb294399391e4737ef2.png",
        "tv_坏笑": "1f0b87f731a671079842116e0991c91c2c88645a.png",
        "tv_大佬": "093c1e2c490161aca397afc45573c877cdead616.png",
        "tv_大哭": "23269aeb35f99daee28dda129676f6e9ea87934f.png",
        "tv_委屈": "d04dba7b5465779e9755d2ab6f0a897b9b33bb77.png",
        "tv_害羞": "a37683fb5642fa3ddfc7f4e5525fd13e42a2bdb1.png",
        "tv_尴尬": "7cfa62dafc59798a3d3fb262d421eeeff166cfa4.png",
        "tv_微笑": "70dc5c7b56f93eb61bddba11e28fb1d18fddcd4c.png",
        "tv_思考": "90cf159733e558137ed20aa04d09964436f618a1.png",
        "tv_惊吓": "0d15c7e2ee58e935adc6a7193ee042388adc22af.png",
        "tv_打脸": "56ab10b624063e966bfcb76ea5dc4794d87dfd47.png",
        "tv_抓狂": "fe31c08edad661d63762b04e17b8d5ae3c71a757.png",
        "tv_抠鼻": "c666f55e88d471e51bbd9fab9bb308110824a6eb.png",
        "tv_斜眼笑": "911f987aa8bc1bee12d52aafe62bc41ef4474e6c.png",
        "tv_无奈": "ea8ed89ee9878f2fece2dda0ea8a5dbfe21b5751.png",
        "tv_晕": "5443c22b4d07fb1907ccc610c8e6db254f2461b7.png",
        "tv_流汗": "cead1c351ab8d79e9f369605beb90148db0fbed3.png",
        "tv_流泪": "7e71cde7858f0cd50d74b0264aa26db612a8a167.png",
        "tv_流鼻血": "c32d39db2737f89b904ca32700d140a9241b0767.png",
        "tv_点赞": "f85c354995bd99e28fc76c869bfe42ba6438eff4.png",
        "tv_生气": "26702dcafdab5e8225b43ffd23c94ac1ff932654.png",
        "tv_生病": "8b0ec90e6b86771092a498c54f09fc94621c1900.png",
        "tv_疑问": "0793d949b18d7be716078349c202c15ff166f314.png",
        "tv_白眼": "c1d59f439e379ee50eef488bcb5e5378e5044ea4.png",
        "tv_皱眉": "72ccad6679fea0d14cce648b4d818e09b8ffea2d.png",
        "tv_目瞪口呆": "0b8cb81a68de5d5365212c99375e7ace3e7891b7.png",
        "tv_睡着": "8b196675b53af58264f383c50ad0945048290b33.png",
        "tv_笑哭": "1abc628f6d4f4caf9d0e7800878f4697abbc8273.png",
        "tv_腼腆": "89712c0d4af73e67f89e35cbc518420380a7f6f4.png",
        "tv_色": "61822c7e9aae5da76475e7892534545336b23a6f.png",
        "tv_调侃": "4bc022533ef31544ca0d72c12c808cf4a1cce3e3.png",
        "tv_调皮": "b9c41de8e82dd7a8515ae5e3cb63e898bf245186.png",
        "tv_鄙视": "6e72339f346a692a495b123174b49e4e8e781303.png",
        "tv_闭嘴": "c9e990da7f6e93975e25fd8b70e2e290aa4086ef.png",
        "tv_难过": "87f46748d3f142ebc6586ff58860d0e2fc8263ba.png",
        "tv_馋": "fc7e829b845c43c623c8b490ee3602b7f0e76a31.png",
        "tv_鬼脸": "0ffbbddf8a94d124ca2f54b360bbc04feb6bbfea.png",
        "tv_黑人问号": "45821a01f51bc867da9edbaa2e070410819a95b2.png",
        "tv_鼓掌": "1d21793f96ef4e6f48b23e53e3b9e42da833a0f6.png"
            
        }
    });
  </script><style>
    .v[data-class=v] .vwrap {
    border: 1px solid #f0f0f0;
    border-radius: 4px;
    margin-bottom: 10px;
    overflow:visible;
    position: relative;
    padding: 10px;
}
  </style>
 
</div>
                
              
            
          </div>
        </article>
        <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
    &copy; 2020 Xiao Wei. All Rights Reserved
  </span>
</footer>

      </div>
      <div id="bottom-bar" class="post-bottom-bar" data-behavior="1">
        <div class="post-actions-wrap">
  
      <nav >
        <ul class="post-actions post-action-nav">
          
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://xwxm.github.io/2020/05/picgo-github-%E5%9B%BE%E5%BA%8A%E6%90%AD%E5%BB%BA/" data-tooltip="Picgo Github 图床搭建">
              
                  <i class="fa fa-angle-left"></i>
                  <span class="hide-xs hide-sm text-small icon-ml">上一篇</span>
                </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://xwxm.github.io/2020/05/git%E4%BA%8C/" data-tooltip="Git（二）">
              
                  <span class="hide-xs hide-sm text-small icon-mr">下一篇</span>
                  <i class="fa fa-angle-right"></i>
                </a>
            </li>
          
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://xwxm.github.io/#about%25!%28EXTRA%20string=https://xwxm.github.io/2020/05/git%E5%AD%A6%E4%B9%A0/%29">
              <i class="fa fa-facebook-official"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://xwxm.github.io/#about%25!%28EXTRA%20string=https://xwxm.github.io/2020/05/git%E5%AD%A6%E4%B9%A0/%29">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://xwxm.github.io/#about%25!%28EXTRA%20string=https://xwxm.github.io/2020/05/git%E5%AD%A6%E4%B9%A0/%29">
              <i class="fa fa-google-plus"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#disqus_thread">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  
</div>

      </div>
      <div id="share-options-bar" class="share-options-bar" data-behavior="1">
  <i id="btn-close-shareoptions" class="fa fa-close"></i>
  <ul class="share-options">
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://xwxm.github.io/#about%25!%28EXTRA%20string=https%3A%2F%2Fxwxm.github.io%2F2020%2F05%2Fgit%25E5%25AD%25A6%25E4%25B9%25A0%2F%29">
          <i class="fa fa-facebook-official"></i><span>分享到 Facebook</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://xwxm.github.io/#about%25!%28EXTRA%20string=https%3A%2F%2Fxwxm.github.io%2F2020%2F05%2Fgit%25E5%25AD%25A6%25E4%25B9%25A0%2F%29">
          <i class="fa fa-twitter"></i><span>分享到 Twitter</span>
        </a>
      </li>
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://xwxm.github.io/#about%25!%28EXTRA%20string=https%3A%2F%2Fxwxm.github.io%2F2020%2F05%2Fgit%25E5%25AD%25A6%25E4%25B9%25A0%2F%29">
          <i class="fa fa-google-plus"></i><span>分享到 Google&#43;</span>
        </a>
      </li>
    
  </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>
    </div>
    
    <div id="about">
  <div id="about-card">
    <div id="about-btn-close">
      <i class="fa fa-remove"></i>
    </div>
    
      <img id="about-card-picture" src="https://www.gravatar.com/avatar/8cb8d2e02baa3a3ee73944c9c9999125?s=110" alt="作者的图片" />
    
    <h4 id="about-card-name">Xiao Wei</h4>
    
      <div id="about-card-bio">你的名字 ，是我见过最短的情诗。</div>
    
    
      <div id="about-card-job">
        <i class="fa fa-briefcase"></i>
        <br/>
        Your job title
      </div>
    
    
      <div id="about-card-location">
        <i class="fa fa-map-marker"></i>
        <br/>
        China
      </div>
    
  </div>
</div>

    

    
  
    
      <div id="cover" style="background-image:url('https://xwxm.github.io/images/f8caabf366bdfa93dee7ac0f5461c80d.jpg');"></div>
    
  


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.7/js/jquery.fancybox.min.js" integrity="sha256-GEAnjcTqVP+vBp3SSc8bEDQqvWAZMiHyUSIorrWwH50=" crossorigin="anonymous"></script>


<script src="https://xwxm.github.io/js/script-pcw6v3xilnxydl1vddzazdverrnn9ctynvnxgwho987mfyqkuylcb1nlt.min.js"></script>


<script lang="javascript">
window.onload = updateMinWidth;
window.onresize = updateMinWidth;
document.getElementById("sidebar").addEventListener("transitionend", updateMinWidth);
function updateMinWidth() {
  var sidebar = document.getElementById("sidebar");
  var main = document.getElementById("main");
  main.style.minWidth = "";
  var w1 = getComputedStyle(main).getPropertyValue("min-width");
  var w2 = getComputedStyle(sidebar).getPropertyValue("width");
  var w3 = getComputedStyle(sidebar).getPropertyValue("left");
  main.style.minWidth = `calc(${w1} - ${w2} - ${w3})`;
}
</script>

<script>
$(document).ready(function() {
  hljs.configure({ classPrefix: '', useBR: false });
  $('pre.code-highlight > code, pre > code').each(function(i, block) {
    if (!$(this).hasClass('codeblock')) {
      $(this).addClass('codeblock');
    }
    hljs.highlightBlock(block);
  });
});
</script>


  
    
      <script>
        var disqus_config = function () {
          this.page.url = 'https:\/\/xwxm.github.io\/2020\/05\/git%E5%AD%A6%E4%B9%A0\/';
          
            this.page.identifier = '\/2020\/05\/git%E5%AD%A6%E4%B9%A0\/'
          
        };
        (function() {
          
          
          if (window.location.hostname == "localhost") {
            return;
          }
          var d = document, s = d.createElement('script');
          var disqus_shortname = 'tranquilpeak';
          s.src = '//' + disqus_shortname + '.disqus.com/embed.js';

          s.setAttribute('data-timestamp', +new Date());
          (d.head || d.body).appendChild(s);
        })();
      </script>
    
  




    
  </body>
</html>


